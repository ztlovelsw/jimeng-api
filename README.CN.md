# Jimeng API

ğŸ¨ **å…è´¹çš„AIå›¾åƒå’Œè§†é¢‘ç”ŸæˆAPIæœåŠ¡** - åŸºäºå³æ¢¦AIï¼ˆå›½å†…ç«™ï¼‰å’Œdreaminaï¼ˆå›½é™…ç«™ï¼‰çš„é€†å‘å·¥ç¨‹å®ç°ã€‚

[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/) [![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-blue.svg)](https://www.typescriptlang.org/) [![Docker](https://img.shields.io/badge/Docker-æ”¯æŒ-blue.svg)](https://www.docker.com/) [![License](https://img.shields.io/badge/License-GPL%20v3-blue.svg)](LICENSE)

## âœ¨ ç‰¹æ€§

- ğŸ¨ **AIå›¾åƒç”Ÿæˆ**: æ”¯æŒå¤šç§æ¨¡å‹å’Œåˆ†è¾¨ç‡ï¼ˆé»˜è®¤2Kï¼Œæ”¯æŒ4Kï¼Œ1Kï¼‰
- ğŸ–¼ï¸ **å›¾ç”Ÿå›¾åˆæˆ**: æ”¯æŒæœ¬åœ°å›¾ç‰‡æˆ–è€…å›¾ç‰‡URL
- ğŸ¬ **AIè§†é¢‘ç”Ÿæˆ**: æ”¯æŒæ–‡æœ¬åˆ°è§†é¢‘ç”Ÿæˆï¼Œå¢åŠ å›½å†…ç«™å›¾ç”Ÿè§†é¢‘çš„æœ¬åœ°å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- ğŸŒ **å›½é™…ç«™æ”¯æŒ**: æ–°å¢å¯¹å³æ¢¦å›½é™…ç«™ï¼ˆdreaminaï¼‰æ–‡ç”Ÿå›¾ä»¥åŠå›¾ç”Ÿå›¾APIçš„æ”¯æŒï¼Œæœ‰é—®é¢˜æissue
- ğŸ”„ **æ™ºèƒ½è½®è¯¢**: è‡ªé€‚åº”è½®è¯¢æœºåˆ¶ï¼Œä¼˜åŒ–ç”Ÿæˆæ•ˆç‡
- ğŸ›¡ï¸ **ç»Ÿä¸€å¼‚å¸¸å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- ğŸ“Š **è¯¦ç»†æ—¥å¿—**: ç»“æ„åŒ–æ—¥å¿—è®°å½•ï¼Œä¾¿äºè°ƒè¯•
- ğŸ³ **Dockeræ”¯æŒ**: å®¹å™¨åŒ–éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨
- âš™ï¸ **æ—¥å¿—çº§åˆ«æ§åˆ¶**: å¯é€šè¿‡é…ç½®æ–‡ä»¶åŠ¨æ€è°ƒæ•´æ—¥å¿—è¾“å‡ºçº§åˆ«

## âš  é£é™©è­¦å‘Š

- æ­¤é¡¹ç›®å±äºç ”ç©¶äº¤æµå­¦ä¹ æ€§è´¨ï¼Œä¸æ¥å—ä»»ä½•èµ„é‡‘æåŠ©å’Œé‡‘é’±äº¤æ˜“ï¼
- ä»…é™è‡ªç”¨å’Œä¸ªäººç ”ç©¶ï¼Œé¿å…å¯¹å®˜æ–¹é€ æˆæœåŠ¡å‹åŠ›ï¼Œå¦åˆ™è½»è€…å¯èƒ½å°å·ï¼Œé‡è€…å¯èƒ½è§¦çŠ¯æ³•å¾‹ï¼
- ä»…é™è‡ªç”¨å’Œä¸ªäººç ”ç©¶ï¼Œé¿å…å¯¹å®˜æ–¹é€ æˆæœåŠ¡å‹åŠ›ï¼Œå¦åˆ™è½»è€…å¯èƒ½å°å·ï¼Œé‡è€…å¯èƒ½è§¦çŠ¯æ³•å¾‹ï¼
- ä»…é™è‡ªç”¨å’Œä¸ªäººç ”ç©¶ï¼Œé¿å…å¯¹å®˜æ–¹é€ æˆæœåŠ¡å‹åŠ›ï¼Œå¦åˆ™è½»è€…å¯èƒ½å°å·ï¼Œé‡è€…å¯èƒ½è§¦çŠ¯æ³•å¾‹ï¼

## âœ¨ æ–°åŠŸèƒ½äº®ç‚¹

### ğŸ“ ratioå’Œresolutionå‚æ•°æ”¯æŒ

ç°åœ¨é€šè¿‡`ratio`å’Œ`resolution`ä¸¤ä¸ªå‚æ•°æ¥å…±åŒæ§åˆ¶å›¾åƒå°ºå¯¸ï¼Œè¿™æä¾›äº†æ›´é«˜çš„çµæ´»æ€§ã€‚ç¨‹åºå†…`resolution`é»˜è®¤è®¾ç½®ä¸º`2k`ã€‚

```bash
curl -X POST http://localhost:5100/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -d '{
    "model": "jimeng-4.0",
    "prompt": "ç¾ä¸½çš„å°‘å¥³ï¼Œèƒ¶ç‰‡æ„Ÿ",
    "ratio": "4:3",
    "resolution": "2k"
  }'
```

**æ”¯æŒçš„resolution**: `1k`, `2k`, `4k`

**æ”¯æŒçš„ratio**: `1:1`, `4:3`, `3:4`, `16:9`, `9:16`, `3:2`, `2:3`, `21:9`

## ğŸ¨ Web UI ç•Œé¢

æœ¬é¡¹ç›®æä¾›äº†é…å¥—çš„ **Web UI å¯è§†åŒ–ç•Œé¢**ï¼Œè®©æ‚¨æ— éœ€ç¼–å†™ä»£ç å³å¯è½»æ¾ä½¿ç”¨å³æ¢¦ APIï¼

ğŸ‘‰ **[æŸ¥çœ‹ Web UI æ–‡æ¡£](jimeng-web-ui/README.md)** - åŸºäº Vue 3 + TypeScript + Tailwind CSS æ„å»ºçš„ç°ä»£åŒ–ç•Œé¢



## ğŸš€ å¿«é€Ÿå¼€å§‹

### sessionidè·å–
- å›½å†…ç«™ (å³æ¢¦)ã€å›½é™…ç«™ (dreamina)è·å–sessionidçš„æ–¹æ³•ç›¸åŒï¼Œè§ä¸‹å›¾ã€‚
> **æ³¨æ„1**: å›½å†…ç«™å’Œå›½é™…ç«™æ¥å£ç›¸åŒï¼Œä½†éœ€è¦é€šè¿‡ä¸åŒçš„å‰ç¼€æ¥åŒºåˆ†ï¼š
> - **å›½å†…ç«™**ï¼šç›´æ¥ä½¿ç”¨sessionidï¼Œå¦‚ `Bearer your_session_id`
> - **ç¾å›½ç«™**ï¼šéœ€è¦æ·»åŠ  **us-** å‰ç¼€ï¼Œå¦‚ `Bearer us-your_session_id`
> - **é¦™æ¸¯ç«™**ï¼šéœ€è¦æ·»åŠ  **hk-** å‰ç¼€ï¼Œå¦‚ `Bearer hk-your_session_id`
> - **æ—¥æœ¬ç«™**ï¼šéœ€è¦æ·»åŠ  **jp-** å‰ç¼€ï¼Œå¦‚ `Bearer jp-your_session_id`
> - **æ–°åŠ å¡ç«™**: éœ€è¦æ·»åŠ  **sg-** å‰ç¼€ï¼Œå¦‚ `Bearer sg-your_session_id`
>
> **æ³¨æ„2**: å›½å†…ç«™å’Œå›½é™…ç«™ç°å·²åŒæ—¶æ”¯æŒ*æ–‡ç”Ÿå›¾*å’Œ*å›¾ç”Ÿå›¾*ï¼Œå›½é™…ç«™æ·»åŠ nanobananaå’Œnanobananaproæ¨¡å‹ã€‚
>
> **æ³¨æ„3**: å›½é™…ç«™ä½¿ç”¨nanobananaæ¨¡å‹æ—¶çš„åˆ†è¾¨ç‡è§„åˆ™:
> - **ç¾å›½ç«™ (us-)**: ç”Ÿæˆçš„å›¾åƒå›ºå®šä¸º **1024x1024** å’Œ **2k** æ¸…æ™°åº¦ï¼Œå¿½ç•¥ç”¨æˆ·ä¼ å…¥çš„ ratio å’Œ resolution å‚æ•°
> - **é¦™æ¸¯/æ—¥æœ¬/æ–°åŠ å¡ç«™ (hk-/jp-/sg-)**: å¼ºåˆ¶ä½¿ç”¨ **1k** æ¸…æ™°åº¦ï¼Œä½†æ”¯æŒè‡ªå®šä¹‰ ratio å‚æ•°ï¼ˆå¦‚ 16:9ã€4:3 ç­‰ï¼‰

![](https://github.com/iptag/jimeng-api/blob/main/get_sessionid.png)

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn
- Docker (å¯é€‰)

### å®‰è£…éƒ¨ç½²

#### æ–¹å¼ä¸€ï¼šdockeré•œåƒæ‹‰å–å’Œæ›´æ–°ï¼ˆæ¨èï¼‰

**æ‹‰å–å‘½ä»¤**
```bash
docker run -d \
  --name jimeng-api \
  -p 5100:5100 \
  --restart unless-stopped \
  ghcr.io/iptag/jimeng-api:latest
```

**æ›´æ–°å‘½ä»¤**
```bash
docker run --rm \
  -v /var/run/docker.sock:/var/run/docker.sock \
  containrrr/watchtower \
  --run-once jimeng-api
```

#### <a id="æ–¹å¼äºŒç›´æ¥è¿è¡Œ"></a>æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd jimeng-api

# å®‰è£…ä¾èµ–
npm install

# ç¼–è¯‘æ–‡ä»¶
npm run build

# å¯åŠ¨æœåŠ¡
npm run dev
```

#### æ–¹å¼ä¸‰ï¼šDockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

##### ğŸš€ å¿«é€Ÿå¯åŠ¨
```bash
# ä½¿ç”¨docker-compose
docker-compose up -d

# æˆ–è€…æ‰‹åŠ¨æ„å»ºå’Œè¿è¡Œ
docker build -t jimeng-api .

docker run -d \
  --name jimeng-api \
  -p 5100:5100 \
  --restart unless-stopped \
  jimeng-api
```

##### ğŸ”§ å¸¸ç”¨å‘½ä»¤
```bash
# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d --build

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker logs jimeng-api

# åœæ­¢æœåŠ¡
docker-compose down

# è¿›å…¥å®¹å™¨è°ƒè¯•
docker exec -it jimeng-api sh
```

##### ğŸ“Š Dockeré•œåƒç‰¹æ€§
- âœ… **å¤šé˜¶æ®µæ„å»º**ï¼šä¼˜åŒ–é•œåƒå¤§å°ï¼ˆ170MBï¼‰
- âœ… **érootç”¨æˆ·**ï¼šå¢å¼ºå®‰å…¨æ€§ï¼ˆjimengç”¨æˆ·ï¼‰
- âœ… **å¥åº·æ£€æŸ¥**ï¼šè‡ªåŠ¨ç›‘æ§æœåŠ¡çŠ¶æ€
- âœ… **ç»Ÿä¸€ç«¯å£**ï¼šå®¹å™¨å†…å¤–å‡ä½¿ç”¨5100ç«¯å£
- âœ… **æ—¥å¿—ç®¡ç†**ï¼šç»“æ„åŒ–æ—¥å¿—è¾“å‡º

### é…ç½®è¯´æ˜

#### `configs/dev/service.yml`
```yaml
name: jimeng-api
route: src/api/routes/index.ts
port: 5100
```

#### `configs/dev/system.yml`
```yaml
requestLog: true
debug: false
log_level: info # æ—¥å¿—çº§åˆ«: error, warning, info(é»˜è®¤), debug
```

## ğŸ¤– Claude Code Skill

æœ¬é¡¹ç›®æä¾›äº†ä¸€ä¸ªä¸“ç”¨çš„ Claude Code Skill,æ–¹ä¾¿åœ¨ Claude Code ä¸­å¿«é€Ÿè°ƒç”¨å³æ¢¦APIç”Ÿæˆå›¾ç‰‡ã€‚

### åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ **å¿«é€Ÿç”Ÿæˆ**: ç›´æ¥åœ¨å¯¹è¯ä¸­ä½¿ç”¨å³æ¢¦APIç”Ÿæˆå›¾ç‰‡
- ğŸ“ **è‡ªåŠ¨ä¿å­˜**: ç”Ÿæˆçš„å›¾ç‰‡è‡ªåŠ¨ä¿å­˜åˆ°é¡¹ç›®çš„ `/pic` ç›®å½•
- ğŸ”„ **æ ¼å¼è½¬æ¢**: è‡ªåŠ¨å°† WebP æ ¼å¼è½¬æ¢ä¸º PNG
- ğŸ¨ **åŒæ¨¡å¼æ”¯æŒ**: æ”¯æŒæ–‡ç”Ÿå›¾å’Œå›¾ç”Ÿå›¾ä¸¤ç§æ¨¡å¼
- âš™ï¸ **å¯é…ç½®å‚æ•°**: æ”¯æŒè‡ªå®šä¹‰æ¯”ä¾‹ã€åˆ†è¾¨ç‡ã€æ¨¡å‹ç­‰å‚æ•°

### å®‰è£…æ–¹æ³•

1. **ç¡®ä¿ jimeng-api æœåŠ¡æ­£åœ¨è¿è¡Œ**:
```bash
# ä½¿ç”¨ Docker å¯åŠ¨æœåŠ¡
docker-compose up -d
# æˆ–
docker run -d --name jimeng-api -p 5100:5100 ghcr.io/iptag/jimeng-api:latest

# æ„å»ºè‡ªå®šä¹‰é•œåƒï¼ˆä»… API æˆ– API + Web UIï¼‰
# ä»… API ç‰ˆæœ¬
docker build -f Dockerfile.webui --target api -t jimeng-api:api .

# API + Web UI ç‰ˆæœ¬ï¼ˆé»˜è®¤å¼€æ”¾ 5100 ä¸º APIï¼Œ4173 ä¸ºå‰ç«¯ï¼‰
docker build -f Dockerfile.webui --target api-webui -t jimeng-api:full .
docker run -d --name jimeng-api-full -p 5100:5100 -p 4173:4173 jimeng-api:full
```

2. **å°† skill å¤åˆ¶åˆ° Claude Code çš„ skills ç›®å½•**:
```bash
# å¤åˆ¶åˆ°ç”¨æˆ·çº§åˆ«çš„å…¨å±€ skills ç›®å½•
cp -r jimeng-api ~/.claude/skills/

# æˆ–è€…å¤åˆ¶åˆ°é¡¹ç›®çº§åˆ«çš„ skills ç›®å½•
cp -r jimeng-api ./.claude/skills/
```

3. **å®‰è£… Python ä¾èµ–**:
```bash
pip install requests Pillow
```

### ä½¿ç”¨ç¤ºä¾‹

åœ¨ Claude Code ä¸­,æ‚¨å¯ä»¥ç›´æ¥å¯¹è¯ä½¿ç”¨:

```
ç”¨æˆ·: "æˆ‘çš„sessionidä¸ºxxxxxï¼Œç”¨å³æ¢¦ç”Ÿæˆä¸€å¼ 2Kåˆ†è¾¨ç‡çš„16:9å›¾ç‰‡,å†…å®¹æ˜¯æœªæ¥éƒ½å¸‚çš„æ—¥è½æ™¯è‰²"

Claude: [è‡ªåŠ¨è°ƒç”¨ skill,ç”Ÿæˆå›¾ç‰‡å¹¶ä¿å­˜åˆ° /pic ç›®å½•]
```

æ›´å¤šè¯¦ç»†ç”¨æ³•è¯·å‚è§ `jimeng-api/Skill.md`ã€‚

## ğŸ“– APIæ–‡æ¡£

### æ–‡ç”Ÿå›¾

**POST** `/v1/images/generations`

**è¯·æ±‚å‚æ•°**:
- `model` (string, å¯é€‰): ä½¿ç”¨çš„æ¨¡å‹åç§°ã€‚å›½å†…ç«™é»˜è®¤ `jimeng-4.5`ï¼Œå›½é™…ç«™ï¼ˆUS/HK/JP/SGï¼‰é»˜è®¤ `jimeng-4.0`ã€‚
- `prompt` (string): å›¾åƒæè¿°æ–‡æœ¬
- `ratio` (string, å¯é€‰): å›¾åƒæ¯”ä¾‹ï¼Œé»˜è®¤ä¸º `"1:1"`ã€‚æ”¯æŒçš„æ¯”ä¾‹: `1:1`, `4:3`, `3:4`, `16:9`, `9:16`, `3:2`, `2:3`, `21:9`ã€‚**æ³¨æ„**: å½“ `intelligent_ratio` ä¸º `true` æ—¶ï¼Œæ­¤å‚æ•°å°†è¢«å¿½ç•¥ï¼Œç³»ç»Ÿä¼šæ ¹æ®æç¤ºè¯è‡ªåŠ¨æ¨æ–­æœ€ä½³æ¯”ä¾‹ã€‚
- `resolution` (string, å¯é€‰): åˆ†è¾¨ç‡çº§åˆ«ï¼Œé»˜è®¤ä¸º `"2k"`ã€‚æ”¯æŒçš„åˆ†è¾¨ç‡: `1k`, `2k`, `4k`ã€‚
- `intelligent_ratio` (boolean, å¯é€‰): æ˜¯å¦å¯ç”¨æ™ºèƒ½æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º `false`ã€‚**âš ï¸ æ­¤å‚æ•°ä»…å¯¹ jimeng-4.0/jimeng-4.1/jimeng-4.5 æ¨¡å‹æœ‰æ•ˆï¼Œå…¶ä»–æ¨¡å‹å°†å¿½ç•¥æ­¤å‚æ•°ã€‚** å¯ç”¨åç³»ç»Ÿä¼šæ ¹æ®æç¤ºè¯è‡ªåŠ¨æ¨æ–­æœ€ä½³å›¾åƒæ¯”ä¾‹ï¼ˆä¾‹å¦‚ï¼š"ç«–å±" â†’ 9:16ï¼Œ"æ¨ªå±" â†’ 16:9ï¼‰ã€‚
- `negative_prompt` (string, å¯é€‰): è´Ÿé¢æç¤ºè¯
- `sample_strength` (number, å¯é€‰): é‡‡æ ·å¼ºåº¦ (0.0-1.0)
- `response_format` (string, å¯é€‰): å“åº”æ ¼å¼ ("url" æˆ– "b64_json")

```bash
# é»˜è®¤å‚æ•°ï¼ˆratio: "1:1", resolution: "2k"ï¼‰
curl -X POST http://localhost:5100/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -d '{
    "model": "jimeng-4.0",
    "prompt": "ä¸€åªå¯çˆ±çš„å°çŒ«å’ª"
  }'

# ä½¿ç”¨4Kåˆ†è¾¨ç‡çš„ç¤ºä¾‹
curl -X POST http://localhost:5100/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -d '{
    "model": "jimeng-4.0",
    "prompt": "å£®ä¸½çš„å±±æ°´é£æ™¯ï¼Œè¶…é«˜åˆ†è¾¨ç‡",
    "ratio": "16:9",
    "resolution": "4k"
  }'

# ä½¿ç”¨æ™ºèƒ½æ¯”ä¾‹çš„ç¤ºä¾‹ï¼ˆç³»ç»Ÿä¼šæ ¹æ®"ç«–å±"è‡ªåŠ¨æ¨æ–­ä¸º9:16ï¼‰
curl -X POST http://localhost:5100/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -d '{
    "model": "jimeng-4.0",
    "prompt": "å¥”è·‘çš„ç‹®å­ï¼Œç«–å±",
    "resolution": "2k",
    "intelligent_ratio": true
  }'
```

**æ”¯æŒçš„æ¨¡å‹**:
- `nanobananapro`: ä»…å›½é™…ç«™æ”¯æŒï¼Œæ”¯æŒ`ratio` å’Œ`resolution`å‚æ•°
- `nanobanana`: ä»…å›½é™…ç«™æ”¯æŒ
- `jimeng-4.5`: ä»…å›½å†…ç«™æ”¯æŒï¼Œæ”¯æŒ 2k/4k å…¨éƒ¨ ratio åŠ intelligent_ratio
- `jimeng-4.1`: ä»…å›½å†…ç«™æ”¯æŒï¼Œæ”¯æŒ 2k/4k å…¨éƒ¨ ratio åŠ intelligent_ratio
- `jimeng-4.0`: å›½å†…ã€å›½é™…ç«™å‡æ”¯æŒ
- `jimeng-3.1`: ä»…å›½å†…ç«™æ”¯æŒ
- `jimeng-3.0`: å›½å†…ã€å›½é™…ç«™å‡æ”¯æŒ
- `jimeng-2.1`: ä»…å›½å†…ç«™æ”¯æŒ
- `jimeng-xl-pro`


**æ”¯æŒçš„æ¯”ä¾‹åŠå¯¹åº”åˆ†è¾¨ç‡** ï¼š
| resolution | ratio | åˆ†è¾¨ç‡ |
|---|---|---|
| `1k` | `1:1` | 1024Ã—1024 |
| | `4:3` | 768Ã—1024 |
| | `3:4` | 1024Ã—768 |
| | `16:9` | 1024Ã—576 |
| | `9:16` | 576Ã—1024 |
| | `3:2` | 1024Ã—682 |
| | `2:3` | 682Ã—1024 |
| | `21:9` | 1195Ã—512 |
| `2k` (é»˜è®¤) | `1:1` | 2048Ã—2048 |
| | `4:3` | 2304Ã—1728 |
| | `3:4` | 1728Ã—2304 |
| | `16:9` | 2560Ã—1440 |
| | `9:16` | 1440Ã—2560 |
| | `3:2` | 2496Ã—1664 |
| | `2:3` | 1664Ã—2496 |
| | `21:9` | 3024Ã—1296 |
| `4k` | `1:1` | 4096Ã—4096 |
| | `4:3` | 4608Ã—3456 |
| | `3:4` | 3456Ã—4608 |
| | `16:9` | 5120Ã—2880 |
| | `9:16` | 2880Ã—5120 |
| | `3:2` | 4992Ã—3328 |
| | `2:3` | 3328Ã—4992 |
| | `21:9` | 6048Ã—2592 |

### å›¾ç”Ÿå›¾

**POST** `/v1/images/compositions`

**åŠŸèƒ½è¯´æ˜**: åŸºäºè¾“å…¥çš„ä¸€å¼ æˆ–å¤šå¼ å›¾ç‰‡ï¼Œç»“åˆæ–‡æœ¬æç¤ºè¯ç”Ÿæˆæ–°çš„å›¾ç‰‡ã€‚æ”¯æŒå›¾ç‰‡æ··åˆã€é£æ ¼è½¬æ¢ã€å†…å®¹åˆæˆç­‰å¤šç§åˆ›ä½œæ¨¡å¼ã€‚

```bash
# å›½é™…ç‰ˆå›¾ç”Ÿå›¾ç¤ºä¾‹ (æœ¬åœ°æ–‡ä»¶ä¸Šä¼ )
# ç¾å›½ç«™ä½¿ç”¨ "us-YOUR_SESSION_ID"
# é¦™æ¸¯ç«™ä½¿ç”¨ "hk-YOUR_SESSION_ID"
# æ—¥æœ¬ç«™ä½¿ç”¨ "jp-YOUR_SESSION_ID"
curl -X POST http://localhost:5100/v1/images/compositions \
  -H "Authorization: Bearer us-YOUR_SESSION_ID" \
  -F "prompt=A cute cat, anime style" \
  -F "model=jimeng-4.0" \
  -F "images=@/path/to/your/local/cat.jpg"
```

**è¯·æ±‚å‚æ•°**:
- `model` (string, å¯é€‰): ä½¿ç”¨çš„æ¨¡å‹åç§°ã€‚å›½å†…ç«™é»˜è®¤ `jimeng-4.5`ï¼Œå›½é™…ç«™ï¼ˆUS/HK/JP/SGï¼‰é»˜è®¤ `jimeng-4.0`ã€‚
- `prompt` (string): å›¾åƒæè¿°æ–‡æœ¬ï¼Œç”¨äºæŒ‡å¯¼ç”Ÿæˆæ–¹å‘
- `images` (array): è¾“å…¥å›¾ç‰‡æ•°ç»„
- `ratio` (string, å¯é€‰): å›¾åƒæ¯”ä¾‹ï¼Œé»˜è®¤ä¸º `"1:1"`ã€‚æ”¯æŒçš„æ¯”ä¾‹: `1:1`, `4:3`, `3:4`, `16:9`, `9:16`, `3:2`, `2:3`, `21:9`ã€‚
- `resolution` (string, å¯é€‰): åˆ†è¾¨ç‡çº§åˆ«ï¼Œé»˜è®¤ä¸º `"2k"`ã€‚æ”¯æŒçš„åˆ†è¾¨ç‡: `1k`, `2k`, `4k`ã€‚
- `intelligent_ratio` (boolean, å¯é€‰): æ˜¯å¦å¯ç”¨æ™ºèƒ½æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º `false`ã€‚**âš ï¸ æ­¤å‚æ•°ä»…å¯¹ jimeng-4.0/jimeng-4.1/jimeng-4.5 æ¨¡å‹æœ‰æ•ˆï¼Œå…¶ä»–æ¨¡å‹å°†å¿½ç•¥æ­¤å‚æ•°ã€‚** å¯ç”¨åç³»ç»Ÿä¼šæ ¹æ®æç¤ºè¯å’Œè¾“å…¥å›¾ç‰‡è‡ªåŠ¨è°ƒæ•´è¾“å‡ºæ¯”ä¾‹ã€‚
- `negative_prompt` (string, å¯é€‰): è´Ÿé¢æç¤ºè¯
- `sample_strength` (number, å¯é€‰): é‡‡æ ·å¼ºåº¦ (0.0-1.0)
- `response_format` (string, å¯é€‰): å“åº”æ ¼å¼ ("url"(é»˜è®¤) æˆ– "b64_json")

**ä½¿ç”¨é™åˆ¶**:
- è¾“å…¥å›¾ç‰‡æ•°é‡: 1-10å¼ 
- æ”¯æŒçš„å›¾ç‰‡æ ¼å¼: JPG, PNG, WebPç­‰å¸¸è§æ ¼å¼
- å›¾ç‰‡å¤§å°é™åˆ¶: å»ºè®®å•å¼ å›¾ç‰‡ä¸è¶…è¿‡10MB
- ç”Ÿæˆæ—¶é—´: é€šå¸¸30ç§’-5åˆ†é’Ÿï¼Œå¤æ‚åˆæˆå¯èƒ½éœ€è¦æ›´é•¿æ—¶é—´

**ä½¿ç”¨ç¤ºä¾‹**:

```bash
# ç¤ºä¾‹1: URLå›¾ç‰‡é£æ ¼è½¬æ¢ (ä½¿ç”¨application/json)
curl -X POST http://localhost:5100/v1/images/compositions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -d '{
    "model": "jimeng-4.0",
    "prompt": "å°†è¿™å¼ ç…§ç‰‡è½¬æ¢ä¸ºæ²¹ç”»é£æ ¼ï¼Œè‰²å½©é²œè‰³ï¼Œç¬”è§¦æ˜æ˜¾",
    "images": ["https://example.com/photo.jpg"],
    "ratio": "1:1",
    "resolution": "2k",
    "sample_strength": 0.7
  }'

# ç¤ºä¾‹2: æœ¬åœ°å•æ–‡ä»¶ä¸Šä¼  (ä½¿ç”¨multipart/form-data)
curl -X POST http://localhost:5100/v1/images/compositions \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -F "prompt=ä¸€åªå¯çˆ±çš„çŒ«ï¼ŒåŠ¨æ¼«é£æ ¼" \
  -F "model=jimeng-4.0" \
  -F "ratio=1:1" \
  -F "resolution=1k" \
  -F "images=@/path/to/your/local/cat.jpg"

# ç¤ºä¾‹3: æœ¬åœ°å¤šæ–‡ä»¶ä¸Šä¼  (ä½¿ç”¨multipart/form-data)
curl -X POST http://localhost:5100/v1/images/compositions \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -F "prompt=èåˆè¿™ä¸¤å¼ å›¾ç‰‡" \
  -F "model=jimeng-4.0" \
  -F "images=@/path/to/your/image1.jpg" \
  -F "images=@/path/to/your/image2.png"
```

**æˆåŠŸå“åº”ç¤ºä¾‹** (é€‚ç”¨äºä»¥ä¸Šæ‰€æœ‰ç¤ºä¾‹):
```json
{
  "created": 1703123456,
  "data": [
    {
      "url": "https://p3-sign.toutiaoimg.com/tos-cn-i-tb4s082cfz/abc123.webp"
    }
  ],
  "input_images": 1,
  "composition_type": "multi_image_synthesis"
}
```

#### â“ **å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ**

**Q: å›¾ç‰‡ä¸Šä¼ å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥å›¾ç‰‡URLæ˜¯å¦å¯è®¿é—®ï¼Œç¡®ä¿å›¾ç‰‡æ ¼å¼æ­£ç¡®ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡10MBã€‚

**Q: ç”Ÿæˆæ—¶é—´è¿‡é•¿æ€ä¹ˆåŠï¼Ÿ**
A: å¤æ‚çš„å¤šå›¾åˆæˆéœ€è¦æ›´é•¿æ—¶é—´ï¼Œå»ºè®®è€å¿ƒç­‰å¾…ã€‚å¦‚æœè¶…è¿‡10åˆ†é’Ÿä»æœªå®Œæˆï¼Œå¯ä»¥é‡æ–°æäº¤è¯·æ±‚ã€‚

**Q: å¦‚ä½•æé«˜åˆæˆè´¨é‡ï¼Ÿ**
A:
- ä½¿ç”¨é«˜è´¨é‡çš„è¾“å…¥å›¾ç‰‡
- ç¼–å†™è¯¦ç»†å‡†ç¡®çš„æç¤ºè¯
- é€‚å½“è°ƒæ•´ `sample_strength` å‚æ•°
- é¿å…ä½¿ç”¨è¿‡å¤šå†²çªçš„å›¾ç‰‡é£æ ¼

**Q: æ”¯æŒå“ªäº›å›¾ç‰‡æ ¼å¼ï¼Ÿ**
A: æ”¯æŒ JPGã€PNGã€WebPã€GIF ç­‰å¸¸è§æ ¼å¼ï¼Œæ¨èä½¿ç”¨ JPG æˆ– PNGã€‚

**Q: å¯ä»¥ä½¿ç”¨æœ¬åœ°å›¾ç‰‡å—ï¼Ÿ**
A: å¯ä»¥ã€‚ç°åœ¨æ”¯æŒç›´æ¥ä¸Šä¼ æœ¬åœ°æ–‡ä»¶ã€‚è¯·å‚è€ƒä¸Šæ–¹çš„â€œæœ¬åœ°æ–‡ä»¶ä¸Šä¼ ç¤ºä¾‹â€ã€‚æ‚¨ä¹Ÿå¯ä»¥ç»§ç»­ä½¿ç”¨åŸæœ‰çš„ç½‘ç»œå›¾ç‰‡URLæ–¹å¼ã€‚

### è§†é¢‘ç”Ÿæˆ

**POST** `/v1/videos/generations`

**åŠŸèƒ½è¯´æ˜**: åŸºäºæ–‡æœ¬æç¤ºè¯ï¼ˆText-to-Videoï¼‰ï¼Œæˆ–ç»“åˆè¾“å…¥çš„é¦–/å°¾å¸§å›¾ç‰‡ï¼ˆImage-to-Videoï¼‰ç”Ÿæˆä¸€æ®µè§†é¢‘ã€‚æ”¯æŒä¸‰ç§ç”Ÿæˆæ¨¡å¼ï¼š

1. **æ–‡ç”Ÿè§†é¢‘ï¼ˆText-to-Videoï¼‰**ï¼šçº¯æ–‡æœ¬æç¤ºè¯ï¼Œä¸ä½¿ç”¨ä»»ä½•å›¾ç‰‡
2. **å›¾ç”Ÿè§†é¢‘ï¼ˆImage-to-Videoï¼‰**ï¼šä½¿ç”¨å•å¼ å›¾ç‰‡ä½œä¸ºé¦–å¸§
3. **é¦–å°¾å¸§è§†é¢‘ï¼ˆFirst-Last Frameï¼‰**ï¼šä½¿ç”¨ä¸¤å¼ å›¾ç‰‡åˆ†åˆ«ä½œä¸ºé¦–å¸§å’Œå°¾å¸§

> **æ¨¡å¼æ£€æµ‹**ï¼šç³»ç»Ÿæ ¹æ®å›¾ç‰‡çš„å­˜åœ¨æƒ…å†µè‡ªåŠ¨åˆ¤æ–­ç”Ÿæˆæ¨¡å¼ï¼š
> - **æ— å›¾ç‰‡** â†’ æ–‡ç”Ÿè§†é¢‘æ¨¡å¼
> - **1å¼ å›¾ç‰‡** â†’ å›¾ç”Ÿè§†é¢‘æ¨¡å¼ï¼ˆä»…æä¾› first_frame_imageï¼‰
> - **2å¼ å›¾ç‰‡** â†’ é¦–å°¾å¸§è§†é¢‘æ¨¡å¼ï¼ˆfirst_frame_image å’Œ end_frame_image å‡æä¾›ï¼‰

**è¯·æ±‚å‚æ•°**:
- `model` (string): ä½¿ç”¨çš„è§†é¢‘æ¨¡å‹åç§°ã€‚
- `prompt` (string): è§†é¢‘å†…å®¹çš„æ–‡æœ¬æè¿°ã€‚
- `ratio` (string, å¯é€‰): è§†é¢‘æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º `"1:1"`ã€‚æ”¯æŒçš„æ¯”ä¾‹ï¼š`1:1`, `4:3`, `3:4`, `16:9`, `9:16`, `21:9`ã€‚**æ³¨æ„**ï¼šåœ¨å›¾ç”Ÿè§†é¢‘æ¨¡å¼ä¸‹ï¼ˆæœ‰å›¾ç‰‡è¾“å…¥æ—¶ï¼‰ï¼Œæ­¤å‚æ•°å°†è¢«å¿½ç•¥ï¼Œè§†é¢‘æ¯”ä¾‹ç”±è¾“å…¥å›¾ç‰‡çš„å®é™…æ¯”ä¾‹å†³å®šã€‚
- `resolution` (string, å¯é€‰): è§†é¢‘åˆ†è¾¨ç‡ï¼Œé»˜è®¤ä¸º `"720p"`ã€‚æ”¯æŒçš„åˆ†è¾¨ç‡ï¼š`720p`, `1080p`ã€‚
- `duration` (number, å¯é€‰): è§†é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ä¸º `5`ã€‚æ”¯æŒçš„å€¼ï¼š`5`ï¼ˆ5ç§’ï¼‰ï¼Œ`10`ï¼ˆ10ç§’ï¼‰ã€‚
- `file_paths` (array, å¯é€‰): ä¸€ä¸ªåŒ…å«å›¾ç‰‡URLçš„æ•°ç»„ï¼Œç”¨äºæŒ‡å®šè§†é¢‘çš„**é¦–å¸§**ï¼ˆæ•°ç»„ç¬¬1ä¸ªå…ƒç´ ï¼‰å’Œ**å°¾å¸§**ï¼ˆæ•°ç»„ç¬¬2ä¸ªå…ƒç´ ï¼‰ã€‚
- `[file]` (file, å¯é€‰): é€šè¿‡ `multipart/form-data` æ–¹å¼ä¸Šä¼ çš„æœ¬åœ°å›¾ç‰‡æ–‡ä»¶ï¼ˆæœ€å¤š2ä¸ªï¼‰ï¼Œç”¨äºæŒ‡å®šè§†é¢‘çš„**é¦–å¸§**å’Œ**å°¾å¸§**ã€‚å­—æ®µåå¯ä»¥ä»»æ„ï¼Œä¾‹å¦‚ `image1`ã€‚
- `response_format` (string, å¯é€‰): å“åº”æ ¼å¼ï¼Œæ”¯æŒ `url` (é»˜è®¤) æˆ– `b64_json`ã€‚

> **å›¾ç‰‡è¾“å…¥è¯´æ˜**:
> - æ‚¨å¯ä»¥é€šè¿‡ `file_paths` (URLæ•°ç»„) æˆ–ç›´æ¥ä¸Šä¼ æ–‡ä»¶ä¸¤ç§æ–¹å¼æä¾›è¾“å…¥å›¾ç‰‡ã€‚
> - å¦‚æœä¸¤ç§æ–¹å¼åŒæ—¶æä¾›ï¼Œç³»ç»Ÿå°†**ä¼˜å…ˆä½¿ç”¨æœ¬åœ°ä¸Šä¼ çš„æ–‡ä»¶**ã€‚
> - æœ€å¤šæ”¯æŒ2å¼ å›¾ç‰‡ï¼Œç¬¬1å¼ ä½œä¸ºè§†é¢‘é¦–å¸§ï¼Œç¬¬2å¼ ä½œä¸ºè§†é¢‘å°¾å¸§ã€‚
> - **é‡è¦**ï¼šä¸€æ—¦æä¾›å›¾ç‰‡è¾“å…¥ï¼ˆå›¾ç”Ÿè§†é¢‘æˆ–é¦–å°¾å¸§è§†é¢‘ï¼‰ï¼Œ`ratio` å‚æ•°å°†è¢«å¿½ç•¥ï¼Œè§†é¢‘æ¯”ä¾‹å°†ç”±è¾“å…¥å›¾ç‰‡çš„å®é™…æ¯”ä¾‹å†³å®šã€‚`resolution` å‚æ•°ä»ç„¶æœ‰æ•ˆã€‚

**æ”¯æŒçš„è§†é¢‘æ¨¡å‹**:
- `jimeng-video-3.0-pro` - ä¸“ä¸šç‰ˆ
- `jimeng-video-3.0` - æ ‡å‡†ç‰ˆ
- `jimeng-video-3.0-fast` - æé€Ÿç‰ˆï¼ˆä»…å›½å†…ç«™æ”¯æŒï¼‰
- `jimeng-video-2.0-pro` - ä¸“ä¸šç‰ˆv2
- `jimeng-video-2.0` - æ ‡å‡†ç‰ˆv2

**ä½¿ç”¨ç¤ºä¾‹**:

```bash
# ç¤ºä¾‹1: æ–‡ç”Ÿè§†é¢‘ï¼ˆ0å¼ å›¾ç‰‡ï¼‰ - çº¯æ–‡æœ¬ç”Ÿæˆ
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -d '{
    "model": "jimeng-video-3.0",
    "prompt": "ä¸€åªå¥”è·‘åœ¨è‰åŸä¸Šçš„ç‹®å­",
    "ratio": "16:9",
    "resolution": "1080p",
    "duration": 10
  }'

# ç¤ºä¾‹2: å›¾ç”Ÿè§†é¢‘ï¼ˆ1å¼ å›¾ç‰‡ï¼‰ - å•å¼ å›¾ç‰‡ä½œä¸ºé¦–å¸§
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -F "prompt=ä¸€ä¸ªç”·äººåœ¨è¯´è¯" \
  -F "model=jimeng-video-3.0" \
  -F "ratio=9:16" \
  -F "duration=5" \
  -F "image_file_1=@/path/to/your/first-frame.png"

# ç¤ºä¾‹3: é¦–å°¾å¸§è§†é¢‘ï¼ˆ2å¼ å›¾ç‰‡ï¼‰ - ä¸¤å¼ å›¾ç‰‡åˆ†åˆ«ä½œä¸ºé¦–å¸§å’Œå°¾å¸§
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -F "prompt=åœºæ™¯ä¹‹é—´çš„å¹³æ»‘è¿‡æ¸¡" \
  -F "model=jimeng-video-3.0" \
  -F "ratio=16:9" \
  -F "duration=10" \
  -F "image_file_1=@/path/to/first-frame.png" \
  -F "image_file_2=@/path/to/last-frame.png"

# ç¤ºä¾‹4: ä½¿ç”¨ç½‘ç»œå›¾ç‰‡çš„å›¾ç”Ÿè§†é¢‘
curl -X POST http://localhost:5100/v1/videos/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -d '{
    "model": "jimeng-video-3.0",
    "prompt": "ä¸€ä¸ªå¥³äººåœ¨èŠ±å›­é‡Œè·³èˆ",
    "ratio": "4:3",
    "duration": 10,
    "filePaths": ["https://example.com/your-image.jpg"]
  }'

```

### èŠå¤©å®Œæˆ

**POST** `/v1/chat/completions`

```bash
curl -X POST http://localhost:5100/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_SESSION_ID" \
  -d '{
    "model": "jimeng-4.0",
    "messages": [
      {
        "role": "user",
        "content": "ç”»ä¸€å¹…å±±æ°´ç”»"
      }
    ]
  }'
```

## ğŸ” APIå“åº”æ ¼å¼

### å›¾åƒç”Ÿæˆå“åº”
```json
{
  "created": 1759058768,
  "data": [
    {
      "url": "https://example.com/image1.jpg"
    },
    {
      "url": "https://example.com/image2.jpg"
    }
  ]
}
```

### èŠå¤©å®Œæˆå“åº”
```json
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "created": 1759058768,
  "model": "jimeng-4.0",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "![image](https://example.com/generated-image.jpg)"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 20,
    "total_tokens": 30
  }
}
```

### æµå¼å“åº” (SSE)
```
data: {"id":"chatcmpl-123","object":"chat.completion.chunk","created":1759058768,"model":"jimeng-4.0","choices":[{"index":0,"delta":{"role":"assistant","content":"ğŸ¨ å›¾åƒç”Ÿæˆä¸­ï¼Œè¯·ç¨å€™..."},"finish_reason":null}]}

data: {"id":"chatcmpl-123","object":"chat.completion.chunk","created":1759058768,"model":"jimeng-4.0","choices":[{"index":1,"delta":{"role":"assistant","content":"![image](https://example.com/image.jpg)"},"finish_reason":"stop"}]}

data: [DONE]
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
jimeng-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ controllers/          # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ core.ts          # æ ¸å¿ƒåŠŸèƒ½ï¼ˆç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶å¤„ç†ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ images.ts        # å›¾åƒç”Ÿæˆé€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ videos.ts        # è§†é¢‘ç”Ÿæˆé€»è¾‘
â”‚   â”‚   â”‚   â””â”€â”€ chat.ts          # èŠå¤©æ¥å£é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ routes/              # è·¯ç”±å®šä¹‰
â”‚   â”‚   â””â”€â”€ consts/              # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ lib/                     # æ ¸å¿ƒåº“
â”‚   â”‚   â”œâ”€â”€ configs/            # é…ç½®åŠ è½½
â”‚   â”‚   â”œâ”€â”€ consts/             # å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ exceptions/         # å¼‚å¸¸ç±»
â”‚   â”‚   â”œâ”€â”€ interfaces/         # æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ request/            # è¯·æ±‚å¤„ç†
â”‚   â”‚   â”œâ”€â”€ response/           # å“åº”å¤„ç†
â”‚   â”‚   â”œâ”€â”€ config.ts           # é…ç½®ä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ server.ts           # æœåŠ¡å™¨æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ logger.ts           # æ—¥å¿—è®°å½•å™¨
â”‚   â”‚   â”œâ”€â”€ error-handler.ts    # ç»Ÿä¸€é”™è¯¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ smart-poller.ts     # æ™ºèƒ½è½®è¯¢å™¨
â”‚   â”‚   â””â”€â”€ aws-signature.ts    # AWSç­¾å
â”‚   â”œâ”€â”€ daemon.ts               # å®ˆæŠ¤è¿›ç¨‹
â”‚   â””â”€â”€ index.ts               # å…¥å£æ–‡ä»¶
â”œâ”€â”€ configs/                    # é…ç½®æ–‡ä»¶
â”œâ”€â”€ Dockerfile                 # Dockeré…ç½®
â””â”€â”€ package.json              # é¡¹ç›®é…ç½®
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### æ™ºèƒ½è½®è¯¢å™¨ (SmartPoller)
- åŸºäºçŠ¶æ€ç è‡ªé€‚åº”è°ƒæ•´è½®è¯¢é—´éš”
- å¤šé‡é€€å‡ºæ¡ä»¶ï¼Œé¿å…æ— æ•ˆç­‰å¾…
- è¯¦ç»†çš„è¿›åº¦è·Ÿè¸ªå’Œæ—¥å¿—è®°å½•

### ç»Ÿä¸€é”™è¯¯å¤„ç† (ErrorHandler)
- åˆ†ç±»é”™è¯¯å¤„ç†ï¼ˆç½‘ç»œé”™è¯¯ã€APIé”™è¯¯ã€è¶…æ—¶ç­‰ï¼‰
- è‡ªåŠ¨é‡è¯•æœºåˆ¶
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

### å®‰å…¨JSONè§£æ
- è‡ªåŠ¨ä¿®å¤å¸¸è§JSONæ ¼å¼é—®é¢˜
- æ”¯æŒå°¾éšé€—å·ã€å•å¼•å·ç­‰éæ ‡å‡†æ ¼å¼
- è¯¦ç»†çš„è§£æé”™è¯¯æ—¥å¿—


## âš™ï¸ é«˜çº§é…ç½®

### è½®è¯¢é…ç½®
```typescript
export const POLLING_CONFIG = {
  MAX_POLL_COUNT: 900,    // æœ€å¤§è½®è¯¢æ¬¡æ•° (15åˆ†é’Ÿ)
  POLL_INTERVAL: 5000,    // åŸºç¡€è½®è¯¢é—´éš” (5ç§’)
  STABLE_ROUNDS: 5,       // ç¨³å®šè½®æ¬¡
  TIMEOUT_SECONDS: 900    // è¶…æ—¶æ—¶é—´ (15åˆ†é’Ÿ)
};
```

### é‡è¯•é…ç½®
```typescript
export const RETRY_CONFIG = {
  MAX_RETRY_COUNT: 3,     // æœ€å¤§é‡è¯•æ¬¡æ•°
  RETRY_DELAY: 5000       // é‡è¯•å»¶è¿Ÿ (5ç§’)
};
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **JSONè§£æé”™è¯¯**
   - æ£€æŸ¥è¯·æ±‚ä½“æ ¼å¼æ˜¯å¦æ­£ç¡®
   - ç³»ç»Ÿä¼šè‡ªåŠ¨ä¿®å¤å¸¸è§æ ¼å¼é—®é¢˜

2. **Sessionidå¤±æ•ˆ**
   - é‡æ–°è·å–å¯¹åº”ç«™ç‚¹çš„Sessionid
   - æ£€æŸ¥Sessionidæ ¼å¼æ˜¯å¦æ­£ç¡®

3. **ç”Ÿæˆè¶…æ—¶**
   - å›¾åƒç”Ÿæˆï¼šé€šå¸¸1-3åˆ†é’Ÿ
   - è§†é¢‘ç”Ÿæˆï¼šé€šå¸¸3-15åˆ†é’Ÿ
   - ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†è¶…æ—¶æƒ…å†µ

4. **ç§¯åˆ†ä¸è¶³**
   - å‰å¾€å³æ¢¦/dreaminaå®˜ç½‘æŸ¥çœ‹ç§¯åˆ†ä½™é¢
   - ç³»ç»Ÿä¼šæä¾›è¯¦ç»†çš„ç§¯åˆ†çŠ¶æ€ä¿¡æ¯

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹å¼€æºé¡¹ç›®çš„è´¡çŒ®å’Œå¯å‘ï¼š

- **[jimeng-free-api-all](https://github.com/wwwzhouhui/jimeng-free-api-all)** - æ„Ÿè°¢è¯¥é¡¹ç›®ä¸ºå³æ¢¦APIé€†å‘å·¥ç¨‹æä¾›çš„é‡è¦å‚è€ƒå’ŒæŠ€æœ¯åŸºç¡€ï¼Œæœ¬é¡¹ç›®åœ¨å…¶åŸºç¡€ä¸Šè¿›è¡Œäº†åŠŸèƒ½å®Œå–„å’Œæ¶æ„ä¼˜åŒ–

## ğŸ“„ è®¸å¯è¯

GPL v3 License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³æœåŠ¡æ¡æ¬¾å’Œæ³•å¾‹æ³•è§„ã€‚ä½¿ç”¨æœ¬é¡¹ç›®æ‰€äº§ç”Ÿçš„ä»»ä½•åæœç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚
